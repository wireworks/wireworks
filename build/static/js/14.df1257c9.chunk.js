(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{47:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var s=a(12),r=a(13),o=a(16),n=a(14),c=a(15),i=a(0),m=a.n(i),l=(a(47),[]),f=[];f.push({from:"any",flag:"@",customLog:[{from:"any",text:"ACK"},{text:"..."},{from:"other",text:"ACK"}],message:"Dados enviados! \ud83d\udce4",cases:f},{from:"any",flag:"RST",customLog:[{from:"any",text:"RST"},{text:"-- Conex\xe3o Encerrada --"}],message:"Algo n\xe3o est\xe1 certo na conex\xe3o. Teremos que recome\xe7ar.",cases:l},{from:"server",flag:"FIN ACK",message:"Ok, acho que terminamos por aqui.",cases:[{from:"client",flag:"ACK",message:"Entendido.",cases:[{from:"client",flag:"FIN ACK",message:"Tchau, servidor.",cases:[{from:"server",flag:"ACK",message:"Tchau, cliente.",customLog:[{from:"server",text:"ACK"},{text:"-- Conex\xe3o Encerrada --"}],cases:l}]}]}]},{from:"client",flag:"FIN ACK",message:"Ok, acho que terminamos por aqui.",cases:[{from:"server",flag:"ACK",message:"Entendido.",cases:[{from:"server",flag:"FIN ACK",message:"Tchau, cliente.",cases:[{from:"client",flag:"ACK",message:"Tchau, servidor.",customLog:[{from:"client",text:"ACK"},{text:"-- Conex\xe3o Encerrada --"}],cases:l}]}]}]}),l.push({from:"client",flag:"SYN",message:"Ol\xe1 servidor! Podemos come\xe7ar uma conex\xe3o?",cases:[{from:"server",flag:"SYN ACK",message:"Podemos sim!",cases:[{from:"client",flag:"ACK",customLog:[{from:"client",text:"ACK"},{text:"-- Conex\xe3o Estabelecida --"}],message:"Entendi, conex\xe3o estabelecida.",cases:f},{from:"client",flag:"RST",message:"Opa, deu algo errado por aqui. Vou tentar do in\xedcio.",cases:l}]},{from:"server",flag:"RST",message:"Calma, alguma coisa deu errada. Tente novamente.",cases:l}]},{from:"client",flag:"ACK",message:"Ol\xe1 servidor! Conex\xe3o estabelecida!",cases:[{from:"server",flag:"RST",message:"O qu\xea? N\xe3o, isso est\xe1 errado. Recomece.",cases:l}]});var h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(n.a)(t)).call.apply(e,[this].concat(c)))).state={history:[],currentChart:{flag:void 0,message:void 0,from:void 0,cases:l}},a.nextChart=function(e,t){var s=a.state.history,r=void 0;if(e.customLog){r=[];for(var o=0;o<e.customLog.length;o++){var n=e.customLog[o];r[o]={text:n.text,from:n.from},"any"===n.from&&(r[o].from=t),"other"===n.from&&(r[o].from="client"===t?"server":"client")}}s.push({flag:e.flag,customLog:r,message:e.message,from:t,cases:[]}),a.setState({history:s,currentChart:e})},a.reset=function(){a.setState({history:[],currentChart:{flag:void 0,message:void 0,from:void 0,cases:l}})},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return m.a.createElement("main",null,m.a.createElement("div",{className:"hbox mb-3"},m.a.createElement(u,{displayName:"Cliente",name:"client",history:this.state.history,currentChart:this.state.currentChart,nextChartEvent:this.nextChart}),m.a.createElement(u,{displayName:"Servidor",name:"server",history:this.state.history,currentChart:this.state.currentChart,nextChartEvent:this.nextChart})),m.a.createElement(g,{history:this.state.history}),m.a.createElement("button",{onClick:this.reset,className:"mt-3"},"Reiniciar simula\xe7\xe3o"))}}]),t}(i.Component),u=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(n.a)(t).call(this,e))).panelRef=void 0,a.panelRef=m.a.createRef(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){this.panelRef.current.scrollBy(0,this.panelRef.current.scrollHeight)}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.props.history.length;a++){var s=this.props.history[a];t[a]=m.a.createElement("div",{key:"msg_"+this.props.name+"_"+a,className:"message-wrapper "+(s.from===this.props.name?"self":"other")},m.a.createElement("div",{className:"message"},s.message))}for(var r=[],o=function(t){var a=e.props.currentChart.cases[t];a.from!==e.props.name&&"any"!==a.from||(r[t]=m.a.createElement("span",{key:"caseI_"+e.props.name+"_"+t,className:"flag",onClick:function(){e.props.nextChartEvent(a,e.props.name)}},"@"===a.flag?"Enviar dados \ud83d\udce6":a.flag))},n=0;n<this.props.currentChart.cases.length;n++)o(n);return m.a.createElement("div",{className:"chat-panel"},m.a.createElement("header",null,m.a.createElement("div",{className:"subtitle"},"Vis\xe3o do"),m.a.createElement("div",{className:"name"},this.props.displayName)),m.a.createElement("div",{className:"content"},m.a.createElement("div",{className:"messages",ref:this.panelRef},t),m.a.createElement("div",{className:"input"},r)))}}]),t}(i.Component),g=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(n.a)(t).call(this,e))).listRef=void 0,a.listRef=m.a.createRef(),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(){this.listRef.current.scrollBy(0,this.listRef.current.scrollHeight)}}]),Object(r.a)(t,[{key:"render",value:function(){for(var e=[],t=0;t<this.props.history.length;t++){var a=this.props.history[t],s=[];s=a.customLog?a.customLog:[{from:"any"===a.from?void 0:a.from,text:a.flag}];for(var r=0;r<s.length;r++){var o=s[r];e.push(m.a.createElement("li",{key:"li_"+t+"_"+r},o.from?"client"==o.from?"Cliente -> Servidor ":"Servidor -> Cliente ":"",o.from?"["+o.text+"]":o.text))}}return m.a.createElement("div",{className:"log-wrapper"},m.a.createElement("ul",{ref:this.listRef},e))}}]),t}(i.Component);t.default=h}}]);
//# sourceMappingURL=14.df1257c9.chunk.js.map